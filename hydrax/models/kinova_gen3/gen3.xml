<mujoco model="gen3">
  <compiler angle="radian" meshdir="assets"/>

  <default>
    <default class="visual">
      <geom type="mesh" contype="0" conaffinity="0" group="2" rgba="0.75294 0.75294 0.75294 1"/>
    </default>
    <default class="collision">
      <geom type="mesh" group="3" contype="0" conaffinity="0"/>
    </default>
    <site size="0.01" rgba="0.5 0.5 0.5 0.3" group="1"/>
    <default class="translation">
      <position kp="200" kv="100" ctrlrange="-1 1"/>
    </default>
    <default class="rotation">
      <!--
      Note that the rotational control range is purposefully limited to (-pi/2, pi/2) to avoid the
      documented instabillity near pi, which is due to taking quaternion differences.
      Increase this range to pi or bigger in order to see the instabillity.
      See here for more details https://mujoco.readthedocs.io/en/latest/XMLreference.html#actuator
      -->
      <position kp="30" kv="20" ctrlrange="-3.14 3.14"/>
    </default>

    <!-- <joint armature="0" damping="0" stiffness="0" actuatorfrcrange="-1 1" actuatorgravcomp="true"/> -->
    <joint armature="0.2" damping="2" axis="0 0 1" actuatorgravcomp="true"/>
  </default>

  <asset>
    <mesh name="base_link" file="base_link.stl" maxhullvert="20"/>
    <mesh name="shoulder_link" file="shoulder_link.stl" maxhullvert="20"/>
    <mesh name="half_arm_1_link" file="half_arm_1_link.stl" maxhullvert="20"/>
    <mesh name="half_arm_2_link" file="half_arm_2_link.stl" maxhullvert="20"/>
    <mesh name="forearm_link" file="forearm_link.stl" maxhullvert="20"/>
    <mesh name="spherical_wrist_1_link" file="spherical_wrist_1_link.stl" maxhullvert="20"/>
    <mesh name="spherical_wrist_2_link" file="spherical_wrist_2_link.stl" maxhullvert="20"/>
    <mesh name="bracelet_with_vision_link" file="bracelet_with_vision_link.stl" maxhullvert="20"/>
  </asset>

  <worldbody>
    <site name="reference" pos="0 0 0" euler="0 0 0" size="0.01" rgba="1 0 0 0"/>
    
    <body name="base_link">
      <inertial pos="-0.000648 -0.000166 0.084487" quat="0.999294 0.00139618 -0.0118387 0.035636" mass="1.697"
        diaginertia="0.00462407 0.00449437 0.00207755"/>
      <geom class="visual" mesh="base_link"/>
      <geom class="collision" mesh="base_link"/>
      <body name="shoulder_link" pos="0 0 0.15643" quat="0 1 0 0" gravcomp="1">
        <inertial pos="-2.3e-05 -0.010364 -0.07336" quat="0.707051 0.0451246 -0.0453544 0.704263" mass="1.3773"
          diaginertia="0.00488868 0.00457 0.00135132"/>
        <joint name="joint_1"/>
        <geom class="visual" mesh="shoulder_link"/>
        <geom class="collision" mesh="shoulder_link"/>
        <body name="half_arm_1_link" pos="0 0.005375 -0.12838" quat="1 1 0 0" gravcomp="1">
          <inertial pos="-4.4e-05 -0.09958 -0.013278" quat="0.482348 0.516286 -0.516862 0.483366" mass="1.1636"
            diaginertia="0.0113017 0.011088 0.00102532"/>
          <joint name="joint_2" range="-2.24 2.24"/>
          <geom class="visual" mesh="half_arm_1_link"/>
          <geom class="collision" mesh="half_arm_1_link"/>
          <body name="half_arm_2_link" pos="0 -0.21038 -0.006375" quat="1 -1 0 0" gravcomp="1">
            <inertial pos="-4.4e-05 -0.006641 -0.117892" quat="0.706144 0.0213722 -0.0209128 0.707437" mass="1.1636"
              diaginertia="0.0111633 0.010932 0.00100671"/>
            <joint name="joint_3"/>
            <geom class="visual" mesh="half_arm_2_link"/>
            <geom class="collision" mesh="half_arm_2_link"/>
            <body name="forearm_link" pos="0 0.006375 -0.21038" quat="1 1 0 0" gravcomp="1">
              <inertial pos="-1.8e-05 -0.075478 -0.015006" quat="0.483678 0.515961 -0.515859 0.483455" mass="0.9302"
                diaginertia="0.00834839 0.008147 0.000598606"/>
              <joint name="joint_4" range="-2.57 2.57"/>
              <geom class="visual" mesh="forearm_link"/>
              <geom class="collision" mesh="forearm_link"/>
              <body name="spherical_wrist_1_link" pos="0 -0.20843 -0.006375" quat="1 -1 0 0" gravcomp="1">
                <inertial pos="1e-06 -0.009432 -0.063883" quat="0.703558 0.0707492 -0.0707492 0.703558" mass="0.6781"
                  diaginertia="0.00165901 0.001596 0.000346988"/>
                <joint name="joint_5"/>
                <geom class="visual" mesh="spherical_wrist_1_link"/>
                <geom class="collision" mesh="spherical_wrist_1_link"/>
                <body name="spherical_wrist_2_link" pos="0 0.00017505 -0.10593" quat="1 1 0 0" gravcomp="1">
                  <inertial pos="1e-06 -0.045483 -0.00965" quat="0.44426 0.550121 -0.550121 0.44426" mass="0.6781"
                    diaginertia="0.00170087 0.001641 0.00035013"/>
                  <joint name="joint_6" range="-2.09 2.09"/>
                  <geom class="visual" mesh="spherical_wrist_2_link"/>
                  <geom class="collision" mesh="spherical_wrist_2_link"/>
                  <body name="bracelet_link" pos="0 -0.10593 -0.00017505" quat="1 -1 0 0" gravcomp="1">
                    <inertial pos="0.000281 0.011402 -0.029798" quat="0.394358 0.596779 -0.577293 0.393789" mass="0.5"
                      diaginertia="0.000657336 0.000587019 0.000320645"/>
                    <joint name="joint_7"/>
                    <geom class="visual" mesh="bracelet_with_vision_link"/>
                    <geom class="collision" mesh="bracelet_with_vision_link"/>
                    <camera name="wrist" pos="0 -0.05639 -0.058475" quat="0 0 0 1" fovy="41.83792730009236"
                      resolution="640 480"/>
                    <site name="gripper" pos="0 0 -0.061525" quat="1 0 0 0" rgba="0 1 0 0.5" group="1" size="0.01"/>
                    <geom name="gripper_sphere" type="sphere" size="0.02" pos="0 0 -0.1" conaffinity="3" rgba="1 0 0 0.5" />
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <position name="x" site="gripper" refsite="reference" gear="1 0 0 0 0 0" class="translation"/>
    <position name="y" site="gripper" refsite="reference" gear="0 1 0 0 0 0" class="translation"/>
    <position name="z" site="gripper" refsite="reference" gear="0 0 1 0 0 0" class="translation"/>
    <position name="rx" site="gripper" refsite="reference" gear="0 0 0 1 0 0" class="rotation"/>
    <position name="ry" site="gripper" refsite="reference" gear="0 0 0 0 1 0" class="rotation"/>
    <position name="rz" site="gripper" refsite="reference" gear="0 0 0 0 0 1" class="rotation"/>
  </actuator>

  <sensor>
    <framepos name="gripper_position" objtype="site" objname="gripper"/>
    <framequat name="gripper_orientation" objtype="site" objname="gripper"/>
  </sensor>
</mujoco>
